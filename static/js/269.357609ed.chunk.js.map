{"version":3,"file":"static/js/269.357609ed.chunk.js","mappings":"oOACA,EAA4B,gC,SCEb,SAASA,IACtB,OACE,mBAAQC,KAAK,SAAS,aAAW,SAASC,UAAWC,EAArD,UACE,SAAC,MAAD,KAGL,CCRD,MAAkC,mCAAlC,EAAmF,+BC2CnF,EAtCkB,SAAC,GAAoB,IAAD,EAAjBC,EAAiB,EAAjBA,WACnB,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAAwBC,EAAAA,EAAAA,UAAS,IAAjC,eAAKC,EAAL,KAAYC,EAAZ,KACMC,EAAK,UAAGL,EAAaM,IAAI,gBAApB,QAAgC,IAE3CC,EAAAA,EAAAA,YAAU,WACa,IAAjBF,EAAMG,QAAcJ,EAASC,EAClC,GAAE,CAACA,IAWJ,OACE,iBAAMI,SAPS,SAACC,GAChBA,EAAEC,iBACFb,EAAWK,EAAMS,OAAOC,eACxBZ,EAA0B,KAAVE,EAAe,CAAEE,MAAOF,GAAU,CAAC,EACpD,EAGC,UACE,iBAAKP,UAAWC,EAAhB,WACE,kBACED,UAAWC,EACXF,KAAK,OACLmB,aAAa,MACbC,YAAY,aACZC,MAAOb,EACPc,SAlBc,SAACP,GACrBN,EAASM,EAAEQ,OAAOF,MACnB,KAkBK,SAACtB,EAAD,QAIP,E,SC/BD,MANA,SAA4BW,EAAOc,GACjC,OAAOC,MAAM,qDAAD,OAHF,mCAGE,iBACuDD,EADvD,qDACwGd,IAClHgB,MAAK,SAACC,GAAD,OAAcA,EAASC,MAAvB,GACR,E,SCuCD,EArCe,WACb,OAA4BrB,EAAAA,EAAAA,UAAS,IAArC,eAAOsB,EAAP,KAAeC,EAAf,KACA,GAAsCvB,EAAAA,EAAAA,UAAS,IAA/C,eAAOwB,EAAP,KAAoBC,EAApB,KACMC,GAAWC,EAAAA,EAAAA,MAEXC,EAAc,IAAIC,gBAAgBH,EAASI,QAAQ1B,IAAI,UAE7DC,EAAAA,EAAAA,YAAU,WACY,OAAhBuB,GACJG,EAAmBH,EAAa,GAAGT,MAAK,YAAkB,IAAfa,EAAc,EAAdA,QAClB,IAAnBA,EAAQ1B,QAAc2B,MAAM,wBAChC,IAAMC,EAAcF,EAAQG,KAAI,SAACC,GAAD,MAAa,CAC3CC,UAAWD,EAAOE,eAClBC,QAASH,EAAOI,GAFc,IAIhCjB,EAAUW,EACX,GACF,GAAE,CAACN,IASJ,OACE,4BACE,SAAC,KAAD,CAAMa,GAAG,IAAT,UACE,gBAAKC,IAAKC,EAAMC,IAAI,OAAOC,MAAM,KAAKC,OAAO,UAE/C,SAAC,EAAD,CAAWlD,WAZQ,SAACmD,GAClBA,IAAUvB,EACZC,EAAesB,GAEfd,MAAM,oCAET,IAOIL,IAAe,SAACoB,EAAA,EAAD,CAAM1B,OAAQA,MAGnC,C","sources":["webpack://goit-react-hw-05-movies/./src/components/SearchButton/SearchButton.module.css?b3ad","components/SearchButton/SearchButton.js","webpack://goit-react-hw-05-movies/./src/components/SearchBox/SearchBox.module.css?45fa","components/SearchBox/SearchBox.js","fetch/fetch-movie-keyword.js","pages/Movies.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"SearchBtn\":\"SearchButton_SearchBtn__bJpcd\"};","import { FaSearch } from \"react-icons/fa\";\r\nimport css from \"./SearchButton.module.css\";\r\n\r\nexport default function SearchButton() {\r\n  return (\r\n    <button type=\"submit\" aria-label=\"Search\" className={css.SearchBtn}>\r\n      <FaSearch></FaSearch>\r\n    </button>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"SearchContainer\":\"SearchBox_SearchContainer__6JjhG\",\"SearchInput\":\"SearchBox_SearchInput__ildgd\"};","import { useState, useEffect } from \"react\";\r\nimport { useSearchParams } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport SearchButton from \"../SearchButton/SearchButton\";\r\nimport css from \"./SearchBox.module.css\";\r\n\r\nconst SearchBox = ({ submitForm }) => {\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  let [input, setInput] = useState(\"\");\r\n  const query = searchParams.get(\"query\") ?? \"\";\r\n\r\n  useEffect(() => {\r\n    if (query.length !== 0) setInput(query);\r\n  }, [query]);\r\n\r\n  const onChangeInput = (e) => {\r\n    setInput(e.target.value);\r\n  };\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    submitForm(input.trim().toLowerCase());\r\n    setSearchParams(input !== \"\" ? { query: input } : {});\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <div className={css.SearchContainer}>\r\n        <input\r\n          className={css.SearchInput}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          placeholder=\"Your movie\"\r\n          value={input}\r\n          onChange={onChangeInput}\r\n        ></input>\r\n        <SearchButton></SearchButton>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\nSearchBox.propTypes = {\r\n  submitForm: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SearchBox;\r\n","const KEY = \"39e7639bbdd6f3ff4985c89cb032db66\";\r\n\r\nfunction fetchMoviesKeyword(query, page) {\r\n  return fetch(\r\n    `https://api.themoviedb.org/3/search/movie?api_key=${KEY}&page=${page}&language=en-US&include_adult=false&query=${query}`\r\n  ).then((response) => response.json());\r\n}\r\n\r\nexport default fetchMoviesKeyword;\r\n\r\n// https://api.themoviedb.org/3/search/movie?api_key=<<api_key>>&language=en-US&page=1&include_adult=false\r\n// `https://api.themoviedb.org/3/search/movie?api_key=${KEY}&page=${page}&language=en-US&include_adult=false&query=${movie}`\r\n","import { useState, useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SearchBox from \"../components/SearchBox/SearchBox\";\r\nimport Home from \"../components/Home/Home\";\r\nimport fetchMoviesKeyword from \"../fetch/fetch-movie-keyword\";\r\nimport back from \"../images/back.png\";\r\n\r\nconst Movies = () => {\r\n  const [movies, setMovies] = useState([]);\r\n  const [movieSubmit, setMovieSubmit] = useState(\"\");\r\n  const location = useLocation();\r\n\r\n  const searchQuery = new URLSearchParams(location.search).get(\"query\");\r\n\r\n  useEffect(() => {\r\n    if (searchQuery === null) return;\r\n    fetchMoviesKeyword(searchQuery, 1).then(({ results }) => {\r\n      if (results.length === 0) alert(\"There are no results\");\r\n      const moviesArray = results.map((result) => ({\r\n        movieName: result.original_title,\r\n        movieId: result.id,\r\n      }));\r\n      setMovies(moviesArray);\r\n    });\r\n  }, [searchQuery]);\r\n\r\n  const onSearchSubmit = (movie) => {\r\n    if (movie !== movieSubmit) {\r\n      setMovieSubmit(movie);\r\n    } else {\r\n      alert(\"What movies are you looking for? \");\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <Link to=\"/\">\r\n        <img src={back} alt=\"Back\" width=\"50\" height=\"40\"></img>\r\n      </Link>\r\n      <SearchBox submitForm={onSearchSubmit}></SearchBox>\r\n      {searchQuery && <Home movies={movies}></Home>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Movies;\r\n"],"names":["SearchButton","type","className","css","submitForm","useSearchParams","searchParams","setSearchParams","useState","input","setInput","query","get","useEffect","length","onSubmit","e","preventDefault","trim","toLowerCase","autoComplete","placeholder","value","onChange","target","page","fetch","then","response","json","movies","setMovies","movieSubmit","setMovieSubmit","location","useLocation","searchQuery","URLSearchParams","search","fetchMoviesKeyword","results","alert","moviesArray","map","result","movieName","original_title","movieId","id","to","src","back","alt","width","height","movie","Home"],"sourceRoot":""}