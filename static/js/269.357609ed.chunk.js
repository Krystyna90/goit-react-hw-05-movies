"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[269],{269:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var r=n(885),a=n(791),c=n(739),i=n(731),o=n(135),u="SearchButton_SearchBtn__bJpcd",s=n(184);function l(){return(0,s.jsx)("button",{type:"submit","aria-label":"Search",className:u,children:(0,s.jsx)(o.U41,{})})}var h="SearchBox_SearchContainer__6JjhG",f="SearchBox_SearchInput__ildgd",m=function(e){var t,n=e.submitForm,c=(0,i.lr)(),o=(0,r.Z)(c,2),u=o[0],m=o[1],d=(0,a.useState)(""),v=(0,r.Z)(d,2),_=v[0],p=v[1],g=null!==(t=u.get("query"))&&void 0!==t?t:"";(0,a.useEffect)((function(){0!==g.length&&p(g)}),[g]);return(0,s.jsx)("form",{onSubmit:function(e){e.preventDefault(),n(_.trim().toLowerCase()),m(""!==_?{query:_}:{})},children:(0,s.jsxs)("div",{className:h,children:[(0,s.jsx)("input",{className:f,type:"text",autoComplete:"off",placeholder:"Your movie",value:_,onChange:function(e){p(e.target.value)}}),(0,s.jsx)(l,{})]})})},d=n(781);var v=function(e,t){return fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat("39e7639bbdd6f3ff4985c89cb032db66","&page=").concat(t,"&language=en-US&include_adult=false&query=").concat(e)).then((function(e){return e.json()}))},_=n(166),p=function(){var e=(0,a.useState)([]),t=(0,r.Z)(e,2),n=t[0],o=t[1],u=(0,a.useState)(""),l=(0,r.Z)(u,2),h=l[0],f=l[1],p=(0,c.TH)(),g=new URLSearchParams(p.search).get("query");(0,a.useEffect)((function(){null!==g&&v(g,1).then((function(e){var t=e.results;0===t.length&&alert("There are no results");var n=t.map((function(e){return{movieName:e.original_title,movieId:e.id}}));o(n)}))}),[g]);return(0,s.jsxs)("div",{children:[(0,s.jsx)(i.rU,{to:"/",children:(0,s.jsx)("img",{src:_,alt:"Back",width:"50",height:"40"})}),(0,s.jsx)(m,{submitForm:function(e){e!==h?f(e):alert("What movies are you looking for? ")}}),g&&(0,s.jsx)(d.Z,{movies:n})]})}},166:function(e,t,n){e.exports=n.p+"static/media/back.823c22871690692dfa3e.png"}}]);
//# sourceMappingURL=269.357609ed.chunk.js.map